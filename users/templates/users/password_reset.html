<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Şifre Sıfırlama</title>
    <script>
        // Kullanıcının seçim yapmasına göre alanları göster/gizle
        function toggleFields() {
            var method = document.querySelector('input[name="contact_method"]:checked').value;
            var emailField = document.getElementById('email-field');
            var phoneField = document.getElementById('phone-field');
            
            if (method === 'email') {
                emailField.style.display = 'block';  // E-posta alanını göster
                phoneField.style.display = 'none';   // Telefon alanını gizle
            } else {
                emailField.style.display = 'none';   // E-posta alanını gizle
                phoneField.style.display = 'block';  // Telefon alanını göster
            }
        }
    </script>
</head>
<body>
    <h2>Şifre Sıfırlama</h2>
    <p>Lütfen e-posta adresinizi ya da telefon numaranızı seçin:</p>
    
    <form method="post">
        {% csrf_token %}

        <!-- Şifre sıfırlama metodu seçimi -->
        <div>
            <label><input type="radio" name="contact_method" value="email" onclick="toggleFields()" checked> E-posta ile</label>
            <label><input type="radio" name="contact_method" value="phone" onclick="toggleFields()"> Telefon numarası ile</label>
        </div>

        <!-- E-posta alanı -->
        <div id="email-field">
            <label for="id_email">E-posta adresi:</label>
            {{ form.email }}
        </div>

        <!-- Telefon numarası alanı -->
        <div id="phone-field" style="display: none;">
            <label for="id_phone_number">Telefon numarası:</label>
            {{ form.phone_number }}
        </div>

        <button type="submit">Şifre Sıfırla</button>
    </form>

    <script>
        // Sayfa yüklendiğinde doğru alanı göster
        toggleFields();
    </script>
</body>
</html>
